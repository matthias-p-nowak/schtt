- name: test 1
  threads:
    - name: caller
      actions:
        - action: data
          data:
            caller: "+4797778239"
            callee: "+4799980040"
        - name: x1
          connection: rhino
          action: sipout
          firstline: INVITE you
          headers: |
            From: me
            To: you
            Subject: calling
            Contact: top secret
          body: |
            a=0 0 0 0
            m=4711
        - action: grab
          matches:
            - what: Callseq
              expression: "(<sq>.*)"
              store:
                sq: call_id
        - action: debug
          var: .
        - name: 100rel
          action: sipin
          connection: rhino
          match:
            - firstline: "^100 "
            - body: xia
        - action: stop
  finally:
    checks:
      - match: status
        expression: passed
